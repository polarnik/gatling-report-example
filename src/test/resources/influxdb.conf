[[graphite]]
# Determines whether the graphite endpoint is enabled.
enabled = true
database = "gatling"
# retention-policy = ""
bind-address = ":2003"
protocol = "tcp"
# consistency-level = "one"
templates = [
  "gatling.*.users.*.*      measurement.simulation.measurement.request.field",
  "gatling.*.*.*.*   measurement.simulation.request.status.field   group=0",
  "gatling.*.*.*.*.*   measurement.simulation.group1.request.status.field   group=1",
  "gatling.*.*.*.*.*.*   measurement.simulation.group1.group2.request.status.field   group=2",
  "gatling.*.*.*.*.*.*.*   measurement.simulation.group1.group2.group3.request.status.field   group=3",
  "gatling.*.*.*.*.*.*.*.*   measurement.simulation.group1.group2.group3.group4.request.status.field   group=4",
  "gatling.*.*.*.*.*.*.*.*.*   measurement.simulation.group1.group2.group3.group4.group5.request.status.field   group=5",
  "gatling.*.*.*.*.*.*.*.*.*.*   measurement.simulation.group1.group2.group3.group4.group5.group6.request.status.field   group=6",

  "v2.gatling.*.*.*.users.*.*      .measurement.run.host.simulation.measurement.request.field",
  "v2.gatling.*.*.*.*.*.*   .measurement.run.host.simulation.request.status.field   group=0",
  "v2.gatling.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.request.status.field   group=1",
  "v2.gatling.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.request.status.field   group=2",
  "v2.gatling.*.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.group3.request.status.field   group=3",
  "v2.gatling.*.*.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.group3.group4.request.status.field   group=4",
  "v2.gatling.*.*.*.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.group3.group4.group5.request.status.field   group=5",
  "v2.gatling.*.*.*.*.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.group3.group4.group5.group6.request.status.field   group=6",
]

# These next lines control how batching works. You should have this enabled
# otherwise you could get dropped metrics or poor performance. Batching
# will buffer points in memory if you have many coming in.

# Flush if this many points get buffered
batch-size = 5000

# number of batches that may be pending in memory
batch-pending = 10

# Flush at least this often even if we haven't hit buffer limit
batch-timeout = "10s"

### This string joins multiple matching 'measurement' values providing more control over the final measurement name.
separator = "."

### Default tags that will be added to all metrics.  These can be overridden at the template level
### or by tags extracted from metric
# tags = ["region=us-east", "zone=1c"]


[[graphite]]
# Determines whether the graphite endpoint is enabled.
enabled = true
database = "gatling"
# retention-policy = ""
bind-address = ":2004"
protocol = "udp"
# consistency-level = "one"
templates = [
  "gatling.*.users.*.*      measurement.simulation.measurement.request.field",
  "gatling.*.*.*.*.*.*.*.*.*.*   measurement.simulation.group1.group2.group3.group4.group5.group6.request.status.field   group=6",
  "gatling.*.*.*.*.*.*.*.*.*   measurement.simulation.group1.group2.group3.group4.group5.request.status.field   group=5",
  "gatling.*.*.*.*.*.*.*.*   measurement.simulation.group1.group2.group3.group4.request.status.field   group=4",
  "gatling.*.*.*.*.*.*.*   measurement.simulation.group1.group2.group3.request.status.field   group=3",
  "gatling.*.*.*.*.*.*   measurement.simulation.group1.group2.request.status.field   group=2",
  "gatling.*.*.*.*.*   measurement.simulation.group1.request.status.field   group=1",
  "gatling.*.*.*.*   measurement.simulation.request.status.field   group=0",

  "v2.gatling.*.*.*.users.*.*      .measurement.run.host.simulation.measurement.request.field",
  "v2.gatling.*.*.*.*.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.group3.group4.group5.group6.request.status.field   group=6",
  "v2.gatling.*.*.*.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.group3.group4.group5.request.status.field   group=5",
  "v2.gatling.*.*.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.group3.group4.request.status.field   group=4",
  "v2.gatling.*.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.group3.request.status.field   group=3",
  "v2.gatling.*.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.group2.request.status.field   group=2",
  "v2.gatling.*.*.*.*.*.*.*   .measurement.run.host.simulation.group1.request.status.field   group=1",
  "v2.gatling.*.*.*.*.*.*   .measurement.run.host.simulation.request.status.field   group=0",
]

# These next lines control how batching works. You should have this enabled
# otherwise you could get dropped metrics or poor performance. Batching
# will buffer points in memory if you have many coming in.

# Flush if this many points get buffered
batch-size = 5000

# number of batches that may be pending in memory
batch-pending = 100

# Flush at least this often even if we haven't hit buffer limit
batch-timeout = "1s"

### This string joins multiple matching 'measurement' values providing more control over the final measurement name.
separator = "."

### Default tags that will be added to all metrics.  These can be overridden at the template level
### or by tags extracted from metric
# tags = ["region=us-east", "zone=1c"]

udp-read-buffer = 8388608 # (8*1024*1024) UDP read buffer size